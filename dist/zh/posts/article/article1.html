<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.36" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-v2-demo.mrhope.site/zh/posts/article/article1.html"><meta property="og:site_name" content="我的博客"><meta property="og:title" content="Docker学习"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:locale:alternate" content="en-US"><meta property="article:tag" content="tag A"><meta property="article:tag" content="tag B"><meta property="article:published_time" content="2022-01-01T00:00:00.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><title>Docker学习 | 我的博客</title><meta name="description" content="">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.b7b590a7.css">
    <link rel="modulepreload" href="/assets/app.276e6fe4.js"><link rel="modulepreload" href="/assets/article1.html.ad3d577c.js"><link rel="modulepreload" href="/assets/article1.html.a3bca400.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/zh/" class="home-link"><!----><!----><span class="site-name hide-in-pad">我的博客</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/zh/" class="nav-link" arialabel="首页"><i class="icon iconfont icon-home"></i>首页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/zh/home.html" class="nav-link" arialabel="项目主页"><i class="icon iconfont icon-home"></i>项目主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/zh/guide/" class="nav-link" arialabel="指南"><i class="icon iconfont icon-creative"></i>指南<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="博文"><span class="title"><i class="icon iconfont icon-edit"></i>博文</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>文章 1-4</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-current="page" href="/zh/posts/article/article1.html" class="router-link-active router-link-exact-active nav-link active" arialabel="Docker学习"><i class="icon iconfont icon-edit"></i>Docker学习<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/article/article2.html" class="nav-link" arialabel="ElacticSearch"><i class="icon iconfont icon-edit"></i>ElacticSearch<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/article/article3.html" class="nav-link" arialabel="Redis学习"><i class="icon iconfont icon-edit"></i>Redis学习<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/article/article4.html" class="nav-link" arialabel="SpringSecurity"><i class="icon iconfont icon-edit"></i>SpringSecurity<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>文章 5-12</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/posts/article/article5.html" class="nav-link" arialabel="SpringCloud"><i class="icon iconfont icon-edit"></i>SpringCloud<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/article/article6.html" class="nav-link" arialabel="网站跨域问题解决方法"><i class="icon iconfont icon-edit"></i>网站跨域问题解决方法<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/article/article7.html" class="nav-link" arialabel="设计模式"><i class="icon iconfont icon-edit"></i>设计模式<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/article/article8.html" class="nav-link" arialabel="Spring学习"><i class="icon iconfont icon-edit"></i>Spring学习<!----></a></li></ul></li><li class="dropdown-item"><a href="/zh/posts/article9.html" class="nav-link" arialabel="前端学习"><i class="icon iconfont icon-edit"></i>前端学习<!----></a></li><li class="dropdown-item"><a href="/zh/posts/article10.html" class="nav-link" arialabel="Swagger"><i class="icon iconfont icon-edit"></i>Swagger<!----></a></li><li class="dropdown-item"><a href="/zh/posts/article11.html" class="nav-link" arialabel="Java基础知识"><i class="icon iconfont icon-edit"></i>Java基础知识<!----></a></li><li class="dropdown-item"><a href="/zh/posts/article12.html" class="nav-link" arialabel="JavaScript"><i class="icon iconfont icon-edit"></i>JavaScript<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://vuepress-theme-hope.github.io/v2/zh/" rel="noopener noreferrer" target="_blank" arialabel="主题文档" class="nav-link"><i class="icon iconfont icon-note"></i>主题文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button class="dropdown-title" type="button" arialabel="选择语言"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewbox="0 0 1024 1024" arialabelledby="i18n" style="width:1rem;height:1rem;vertical-align:middle;"><title id="i18n" lang="en">i18n icon</title><g fill="currentColor"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></g></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/posts/article/article1.html" class="nav-link" arialabel="English"><!---->English<!----></a></li><li class="dropdown-item"><a aria-current="page" href="/zh/posts/article/article1.html" class="router-link-active router-link-exact-active nav-link active" arialabel="简体中文"><!---->简体中文<!----></a></li></ul></button></div></div><div class="nav-item"><a class="repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" arialabelledby="outlook"><title id="outlook" lang="en">outlook icon</title><g fill="currentColor"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></g></svg><div class="outlook-dropdown"><!----></div></button></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/zh/" class="nav-link sidebar-link sidebar-page" arialabel="首页"><i class="icon iconfont icon-home"></i>首页<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/home.html" class="nav-link sidebar-link sidebar-page" arialabel="项目主页"><i class="icon iconfont icon-home"></i>项目主页<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/slide.html" class="nav-link sidebar-link sidebar-page" arialabel="幻灯片页"><i class="icon iconfont icon-slides"></i>幻灯片页<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading clickable"><i class="icon iconfont icon-creative"></i><a href="/zh/guide/" class="title">如何使用</a><!----></p><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/zh/guide/" class="nav-link sidebar-link sidebar-page" arialabel="主要功能与配置演示"><i class="icon iconfont icon-creative"></i>主要功能与配置演示<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/guide/page.html" class="nav-link sidebar-link sidebar-page" arialabel="页面配置"><i class="icon iconfont icon-page"></i>页面配置<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/guide/markdown.html" class="nav-link sidebar-link sidebar-page" arialabel="Markdown 增强"><i class="icon iconfont icon-markdown"></i>Markdown 增强<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/guide/disable.html" class="nav-link sidebar-link sidebar-page" arialabel="组件禁用"><i class="icon iconfont icon-config"></i>组件禁用<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/guide/encrypt.html" class="nav-link sidebar-link sidebar-page" arialabel="密码加密的文章"><i class="icon iconfont icon-lock"></i>密码加密的文章<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><i class="icon iconfont icon-note"></i><span class="title">文章</span><!----></p><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><i class="icon iconfont icon-note"></i><span class="title">文章 1-4</span><span class="arrow down"></span></button><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/zh/posts/article/article1.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="Docker学习"><i class="icon iconfont icon-edit"></i>Docker学习<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="简介"><!---->简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#docker安装" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="Docker安装"><!---->Docker安装<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#docker的基本组成" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="Docker的基本组成"><!---->Docker的基本组成<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#安装docker" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="安装Docker"><!---->安装Docker<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#docker原理" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="Docker原理"><!---->Docker原理<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#docker基本命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="Docker基本命令"><!---->Docker基本命令<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#容器命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="容器命令"><!---->容器命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#退出容器" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="退出容器"><!---->退出容器<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#删除容器" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="删除容器"><!---->删除容器<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#启动和停止容器的操作" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="启动和停止容器的操作"><!---->启动和停止容器的操作<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#后台启动容器" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="后台启动容器"><!---->后台启动容器<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#日志查看" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="日志查看"><!---->日志查看<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#查看容器的进程信息" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="查看容器的进程信息"><!---->查看容器的进程信息<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#进入当前正在运行的容器" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="进入当前正在运行的容器"><!---->进入当前正在运行的容器<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#从容器中拷贝文件" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="从容器中拷贝文件"><!---->从容器中拷贝文件<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#小试牛刀" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="小试牛刀"><!---->小试牛刀<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#可视化面板" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="可视化面板"><!---->可视化面板<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#commit镜像" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="commit镜像"><!---->commit镜像<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#容器数据卷" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="容器数据卷"><!---->容器数据卷<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#mysql持久化" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="MYSQL持久化"><!---->MYSQL持久化<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#具名和匿名挂载" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="具名和匿名挂载"><!---->具名和匿名挂载<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#初识dockerfile" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="初识DockerFile"><!---->初识DockerFile<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#数据卷容器" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="数据卷容器"><!---->数据卷容器<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#dockerfile构建" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="DockerFile构建"><!---->DockerFile构建<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#tomcat镜像实战" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="Tomcat镜像实战"><!---->Tomcat镜像实战<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#docker网络" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="Docker网络"><!---->Docker网络<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#link" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="link"><!---->link<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#自定义网络" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="自定义网络"><!---->自定义网络<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/article/article1.html#网络连通" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="网络连通"><!---->网络连通<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/zh/posts/article/article2.html" class="nav-link sidebar-link sidebar-page" arialabel="ElacticSearch"><i class="icon iconfont icon-edit"></i>ElacticSearch<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/posts/article/article3.html" class="nav-link sidebar-link sidebar-page" arialabel="Redis"><i class="icon iconfont icon-edit"></i>Redis<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/posts/article/article4.html" class="nav-link sidebar-link sidebar-page" arialabel="SpingSecurity"><i class="icon iconfont icon-edit"></i>SpingSecurity<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><i class="icon iconfont icon-note"></i><span class="title">文章 5-12</span><!----></p><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-note"></i><span class="title">文章 5-8</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><i class="icon iconfont icon-note"></i><span class="title">文章 9-12</span><!----></p><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/zh/posts/article9.html" class="nav-link sidebar-link sidebar-page" arialabel="前端汇总"><i class="icon iconfont icon-edit"></i>前端汇总<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/posts/article10.html" class="nav-link sidebar-link sidebar-page" arialabel="Swagger"><i class="icon iconfont icon-edit"></i>Swagger<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/posts/article11.html" class="nav-link sidebar-link sidebar-page" arialabel="/zh/posts/article11"><i class="icon iconfont icon-edit"></i>/zh/posts/article11<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/posts/article12.html" class="nav-link sidebar-link sidebar-page" arialabel="JavaScript学习"><i class="icon iconfont icon-edit"></i>JavaScript学习<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><i class="icon iconfont icon-edit"></i>Docker学习</h1><div class="article-info"><span class="author-info" arialabel="作者🖊" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="https://mrhope.site" target="_blank" rel="noopener noreferrer">小陈博客</a></span><span property="author" content="小陈博客"></span></span><!----><span class="date-info" arialabel="写作日期📅" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2022年1月1日</span><meta property="datePublished" content="2022-01-01T00:00:00.000Z"></span><span class="category-info" arialabel="分类🌈" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" arialabelledby="category"><title id="category" lang="en">category icon</title><g fill="currentColor"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></g></svg><ul class="categories-wrapper"><li class="category category3 clickable" role="navigation">CategoryA</li><meta property="articleSection" content="CategoryA"></ul></span><span arialabel="标签🏷" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" arialabelledby="tag"><title id="tag" lang="en">tag icon</title><g fill="currentColor"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></g></svg><ul class="tags-wrapper"><li class="tag tag2 clickable" role="navigation">tag A</li><li class="tag tag8 clickable" role="navigation">tag B</li></ul><meta property="keywords" content="tag A,tag B"></span><span class="reading-time-info" arialabel="阅读时间⌛" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" arialabelledby="timer"><title id="timer" lang="en">timer icon</title><g fill="currentColor"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></g></svg><span>大约 13 分钟</span><meta property="timeRequired" content="PT13M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#简介" class="router-link-active router-link-exact-active toc-link level2">简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#docker安装" class="router-link-active router-link-exact-active toc-link level2">Docker安装</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#docker的基本组成" class="router-link-active router-link-exact-active toc-link level3">Docker的基本组成</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#安装docker" class="router-link-active router-link-exact-active toc-link level3">安装Docker</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#docker原理" class="router-link-active router-link-exact-active toc-link level2">Docker原理</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#docker基本命令" class="router-link-active router-link-exact-active toc-link level2">Docker基本命令</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#容器命令" class="router-link-active router-link-exact-active toc-link level3">容器命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#退出容器" class="router-link-active router-link-exact-active toc-link level3">退出容器</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#删除容器" class="router-link-active router-link-exact-active toc-link level3">删除容器</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#启动和停止容器的操作" class="router-link-active router-link-exact-active toc-link level3">启动和停止容器的操作</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#后台启动容器" class="router-link-active router-link-exact-active toc-link level3">后台启动容器</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#日志查看" class="router-link-active router-link-exact-active toc-link level3">日志查看</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#查看容器的进程信息" class="router-link-active router-link-exact-active toc-link level3">查看容器的进程信息</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#进入当前正在运行的容器" class="router-link-active router-link-exact-active toc-link level3">进入当前正在运行的容器</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#从容器中拷贝文件" class="router-link-active router-link-exact-active toc-link level3">从容器中拷贝文件</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#小试牛刀" class="router-link-active router-link-exact-active toc-link level3">小试牛刀</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#可视化面板" class="router-link-active router-link-exact-active toc-link level3">可视化面板</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#commit镜像" class="router-link-active router-link-exact-active toc-link level3">commit镜像</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#容器数据卷" class="router-link-active router-link-exact-active toc-link level2">容器数据卷</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#mysql持久化" class="router-link-active router-link-exact-active toc-link level3">MYSQL持久化</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#具名和匿名挂载" class="router-link-active router-link-exact-active toc-link level3">具名和匿名挂载</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#初识dockerfile" class="router-link-active router-link-exact-active toc-link level3">初识DockerFile</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#数据卷容器" class="router-link-active router-link-exact-active toc-link level3">数据卷容器</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#dockerfile构建" class="router-link-active router-link-exact-active toc-link level3">DockerFile构建</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#tomcat镜像实战" class="router-link-active router-link-exact-active toc-link level3">Tomcat镜像实战</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#docker网络" class="router-link-active router-link-exact-active toc-link level2">Docker网络</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#link" class="router-link-active router-link-exact-active toc-link level3">link</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#自定义网络" class="router-link-active router-link-exact-active toc-link level3">自定义网络</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/article/article1.html#网络连通" class="router-link-active router-link-exact-active toc-link level3">网络连通</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><h1 id="docker学习" tabindex="-1"><a class="header-anchor" href="#docker学习" aria-hidden="true">#</a> Docker学习</h1><p>弱小和无知不是生存的障碍，傲慢才是</p><p>阿里云加速器</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json &lt;&lt;-&#39;EOF&#39;
{
  &quot;registry-mirrors&quot;: [&quot;https://46fksnli.mirror.aliyuncs.com&quot;]
}
EOF
sudo systemctl daemon-reload
sudo systemctl restart docker



https://46fksnli.mirror.aliyuncs.com
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介" aria-hidden="true">#</a> 简介</h2><p><mark>docker是什么？</mark></p><p>Docker 是一个<a href="https://baike.baidu.com/item/%E5%BC%80%E6%BA%90/20720669" target="_blank" rel="noopener noreferrer">开源<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的<a href="https://baike.baidu.com/item/%E9%95%9C%E5%83%8F/1574" target="_blank" rel="noopener noreferrer">镜像<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>中，然后发布到任何流行的 <a href="https://baike.baidu.com/item/Linux" target="_blank" rel="noopener noreferrer">Linux<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>或<a href="https://baike.baidu.com/item/Windows/165458" target="_blank" rel="noopener noreferrer">Windows<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 机器上，也可以实现<a href="https://baike.baidu.com/item/%E8%99%9A%E6%8B%9F%E5%8C%96/547949" target="_blank" rel="noopener noreferrer">虚拟化<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。容器是完全使用<a href="https://baike.baidu.com/item/%E6%B2%99%E7%AE%B1/393318" target="_blank" rel="noopener noreferrer">沙箱<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>机制，相互之间不会有任何接口</p><p><mark>将应用和环境打包成一个镜像</mark></p><p>开发 — 运维 问题: 项目在我的电脑上可以运行!版本更新,导致服务不可用!对于运维来说,考验就十分大</p><p>环境配置是十分的麻烦.每一个机器都要部署环境(集群Redis, ES, Hadoop…)! 费时费力</p><ul><li>java – apk – 发布(应用商店) --使用者使用apk-- 安装即用</li><li>java — jar(环境) — 打包上线自带环境(镜像) —(Docker仓库: 商店) — 下载我们发布的镜像 — 直接运行即可</li></ul><p>Docker是基于Go语言开发的开源项目!</p><p><mark>为什么要使用 Docker</mark></p><p>作为一种新兴的虚拟化方式，Docker 跟传统的虚拟化方式相比具有众多的优势。</p><p>首先，Docker 容器的启动可以在秒级实现，这相比传统的虚拟机方式要快得多。其次，Docker 对系统资源的利用率很高，一台主机上可以同时运行数千个 Docker 容器。</p><p>容器除了运行其中应用外，基本不消耗额外的系统资源，使得应用的性能很高，同时系统的开销尽量小。传统虚拟机方式运行 10 个不同的应用就要起 10 个虚拟机，而Docker 只需要启动 10 个隔离的应用即可</p><p>Docker核心思想：相互隔离的，通过隔离机制，可以将服务器利用到极致</p><hr><p>虚拟机技术缺点:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>1. 资源占用十分多
2. 冗余技术多
3. 启动很慢
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><mark>容器化技术不是一个完整的操作系统</mark></p><p>Docker是一种虚拟化技术</p><blockquote><p>官网: https://www.docker.com/</p><p>文档地址: https://docs.docker.com/get-docker/</p><p>仓库地址: https://hub.docker.com/</p><p>画图工具：draw.io</p></blockquote><p>比较Docker和虚拟机技术的不同</p><ul><li>传统的虚拟机,虚拟出一条硬件,运行一个完整的操作系统,然后在这个系统上安装和运行软件</li><li>容器内的应用直接运行在宿主机的内容,容器是没有自己的内核的,也没有虚拟我们的硬件,所以就轻便了</li><li>每个容器间都是互相隔离的,每一个容器内都有一个属于自己的文件系统,互不影响</li></ul><blockquote><p>DevOps(开发，运维)</p></blockquote><ul><li><p>更快速的交付和部署</p><p>传统: 一堆帮助文档,安装程序</p><p>Docker: 一键运行打包镜像发布测试</p></li><li><p>更便捷的升级和扩缩容</p><p>使用了Docker之后,我们部署应用就像搭积木一样!</p><p>项目打包为一个镜像,扩展,服务器A!服务器B</p></li><li><p>更简单的系统运维</p><p>在容器化之后,我们开发,测试环境都是高度一致的</p></li><li><p>更高效的计算资源利用:</p><p>Docker是内核级别的虚拟化, 可以在一个物理机上运行很多的容器实例! 服务器的性能可以被压榨到极致</p></li></ul><h2 id="docker安装" tabindex="-1"><a class="header-anchor" href="#docker安装" aria-hidden="true">#</a> Docker安装</h2><h3 id="docker的基本组成" tabindex="-1"><a class="header-anchor" href="#docker的基本组成" aria-hidden="true">#</a> Docker的基本组成</h3><ul><li>镜像：（image）</li></ul><p>docker镜像好比一个模板,可以通过这个模板来创建容器服务,tomcat镜像===&gt;run ==&gt;tomcat01容器(提供服务器)</p><p>通过这个镜像可以创建多个容器(最终服务运行或者项目运行就是在容器中的)</p><ul><li>容器：（contains）</li></ul><p>Docker利用容器技术,独立运行一个或者一个组应用,通过镜像来创建的</p><p>启动,停止,删除,基本命令!</p><ul><li>仓库：（repository）</li></ul><p>仓库就是存放镜像的地方!</p><p>仓库分为共有仓库和私有仓库</p><h3 id="安装docker" tabindex="-1"><a class="header-anchor" href="#安装docker" aria-hidden="true">#</a> 安装Docker</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>uname -r:查看版本
cat /etc/os-release：查看配置
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>先卸载旧版本</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yum remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-engine
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>需要的安装包</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yum install -y yum-utils
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>设置镜像仓库</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> yum-config-manager --add-repo  \
 http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>更新yum软件包索引</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yum makecache fast
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>安装最新版docker引擎（社区版）</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yum install docker-ce docker-ce-cli containerd.io
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>启动docker</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> systemctl start docker
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查看版本</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker version
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>测试helloworld</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run hello-world
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查看下载的helloworld镜像</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker images
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>卸载docker</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yum remove docker-ce docker-ce-cli containerd.io：卸载依赖 rm -rf /var/lib/docker：删除目录 rm -rf /var/lib/containerd
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="docker原理" tabindex="-1"><a class="header-anchor" href="#docker原理" aria-hidden="true">#</a> Docker原理</h2><p>Docker是一个C/S结构的系统</p><p>DockerServer接收到Docker-Client的指令,就会执行这个命令</p><h2 id="docker基本命令" tabindex="-1"><a class="header-anchor" href="#docker基本命令" aria-hidden="true">#</a> Docker基本命令</h2><p>帮助命令</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> version:显示docker帮助信息docker info:显示系统信息，镜像，容器docker --help:帮助命令
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>帮助命令地址</p><p>镜像命令</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker images --helpREPOSITORY 镜像的仓库名TAG 镜像的标签IMAGE ID 镜像IDCREATED 镜像创建时间SIZE 镜像的大小#可选项Options:  -a, --all             #列出所有镜像  -q, --quiet           #只显示镜像ID
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>搜索命令</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker search xxx
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>下载镜像</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull mysql:5.7
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>镜像卸载</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker rmi -f  id id:批量删除docker rmi -f $(docker -ap) 删除全部
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="容器命令" tabindex="-1"><a class="header-anchor" href="#容器命令" aria-hidden="true">#</a> 容器命令</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run  [可选参数] image参数说明--name=&quot;&quot;  容器名字 用于区分容器-d         后台方式运行-it        使用交互方式运行,进入容器查看内容-p	       指定容器的端口 -p 80:8080  主机端口:容器端口-P(大写)    随机指定端口
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>测试</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -it centos /bin/bashexit:退出docker ps:列出所有运行的容器docker ps -a:查看运行过的容器docker ps -n=?:查看最近创建的容器docker ps -q:只显示容器的编号
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="退出容器" tabindex="-1"><a class="header-anchor" href="#退出容器" aria-hidden="true">#</a> 退出容器</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>exit :直接容器停止并退出ctrl + p + q 直接退出容器
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="删除容器" tabindex="-1"><a class="header-anchor" href="#删除容器" aria-hidden="true">#</a> 删除容器</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker rmi 容器iddocker rmi -f[递归] $(docker ps -aq) :递归删除所有的容器docker ps -a | xargs docker rm :递归删除所有的容器
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="启动和停止容器的操作" tabindex="-1"><a class="header-anchor" href="#启动和停止容器的操作" aria-hidden="true">#</a> 启动和停止容器的操作</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> start 容器id  <span class="token comment">#启动容器docker restart 容器id  #重启容器docker stop 容器id	#停止当前正在运行的容器docker kill 容器id 	#强制停止当前容器</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="后台启动容器" tabindex="-1"><a class="header-anchor" href="#后台启动容器" aria-hidden="true">#</a> 后台启动容器</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d 镜像名
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="日志查看" tabindex="-1"><a class="header-anchor" href="#日志查看" aria-hidden="true">#</a> 日志查看</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker logs -tf --tail 10 id:查看i为什么的10条日志   显示全部的
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="查看容器的进程信息" tabindex="-1"><a class="header-anchor" href="#查看容器的进程信息" aria-hidden="true">#</a> 查看容器的进程信息</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker top id
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查看镜像元数据</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker inspect id
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="进入当前正在运行的容器" tabindex="-1"><a class="header-anchor" href="#进入当前正在运行的容器" aria-hidden="true">#</a> 进入当前正在运行的容器</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker exec -it id  /bin/bash:交互进行 进入容器后开启新的终端docker attach id :进入容器正在执行的终端
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="从容器中拷贝文件" tabindex="-1"><a class="header-anchor" href="#从容器中拷贝文件" aria-hidden="true">#</a> 从容器中拷贝文件</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker cp id:容器内路径docker cp 90d81c8bc9ec:/home/test.java /homedocker ps -a:查看所有的容器
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="小试牛刀" tabindex="-1"><a class="header-anchor" href="#小试牛刀" aria-hidden="true">#</a> 小试牛刀</h3><p>搜索镜像</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker search nginx
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>拉取镜像</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull nginx
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>启动</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d --name nginx0	1  -p 3302:80  nginx:  -d：后台运行   --name:取名字 curl localhost:3302whereis nginx:寻找nginx配置文件 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>部署Tomcat需要将webapps.dist中内容复制到webapps中</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker exec -it tomcat3  /bin/bash：进入容器cp webapps.dist/* webappsdocker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e ES_JAVA_OPTS= &quot;-Xms64m -Xmx 512m&quot;  elasticsearch:7.6.2docker stats：查看cpu状态
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="可视化面板" tabindex="-1"><a class="header-anchor" href="#可视化面板" aria-hidden="true">#</a> 可视化面板</h3><p>Docker图形化界面使用</p><p>安装命令</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d -p 9100:9000 \--restart=always -v /var/run/docker.sock:/var/run/docker.sock --privileged=true portainer/portainer
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="commit镜像" tabindex="-1"><a class="header-anchor" href="#commit镜像" aria-hidden="true">#</a> commit镜像</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker commit 提交一个容器成为一个新的副本docker commit -m=&quot;提交的描述信息&quot; -a=&quot;作者&quot; 容器ID 目标镜像名:[tag]docker exec -it cfa56974f7c7：进入到容器docker run -it  -p 8080:8080 tomcat：启动容器docker commit -a=&quot;chen&quot; -m=&quot;add webapps&quot; cfa56974f7c7   tomcat1:1.0：提交操作 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="容器数据卷" tabindex="-1"><a class="header-anchor" href="#容器数据卷" aria-hidden="true">#</a> 容器数据卷</h2><p>需求: 数据可以持久化 需求: mysql数据可以存储在本地!</p><p>容器之间可以有一个数据共享的技术!</p><p>Docker 容器中产生的数据,同步到本地!目录的挂载,将容器内的目录挂载到Linux上面!</p><blockquote><p>方式一：用命令来挂载 双向绑定，将数据保存到本地</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -it -v 主机目录: 容器内目录  -p 主机端口: 容器端口docker run -it -v /home/ceishi:/home  centos /bin/bash    前面的路径是主机路径，后面是容器路径docker inspect 容器id:查看是否挂载成功
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="mysql持久化" tabindex="-1"><a class="header-anchor" href="#mysql持久化" aria-hidden="true">#</a> MYSQL持久化</h3><p>获取镜像</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull mysql:5.7
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d -p 3306:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql mysql:5.7-d  后台运行-p  端口映射-v  挂载	-e  环境配置--name 容器名
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>即使容器被删了，挂载到本地的数据卷依旧不会丢失，这就是数 据持久化技术</p><h3 id="具名和匿名挂载" tabindex="-1"><a class="header-anchor" href="#具名和匿名挂载" aria-hidden="true">#</a> 具名和匿名挂载</h3><p>匿名挂载</p><p>/:是绝对目录开头</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>-v 容器内路径docker -run -P -name nginx01 -v /etc/nginx nginxdocker volume ls：查看所有挂载的本地镜像docker volume inspect 名字：查看具名或匿名挂载的具体位置
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>具名挂载</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d -P --name nginx2  -v  juming-nginx:/etc/nginx nginx
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>如何确定是具名挂载还是匿名挂载,还是指定路径挂载-v 容器内路径：匿名挂载 -v 卷名:容器内路径：具名挂载-v 宿主机路径 : 容器内路径 指定路径挂载
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="初识dockerfile" tabindex="-1"><a class="header-anchor" href="#初识dockerfile" aria-hidden="true">#</a> 初识DockerFile</h3><p>用来构建docker镜像的构建文件，命令参数脚本</p><p>通过脚本生成镜像，镜像是一层一层的，每个命令都是一层</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>创建一个dockerfile文件,名字可以随机 建议 dockerfile文件中的内容	FROM centosVOLUME <span class="token punctuation">[</span><span class="token string">&quot;volume01&quot;</span>,<span class="token string">&quot;volume02&quot;</span><span class="token punctuation">]</span>CMD <span class="token builtin class-name">echo</span> <span class="token string">&quot;---end---&quot;</span>CMD /bin/hash
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker build -f /home/docker-test-volume/dockerfile1  -t   chen/centos:1.0 .:打包生成镜像
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker inspect 41fc262c9781：查看数据是否挂载成功   容器id
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="数据卷容器" tabindex="-1"><a class="header-anchor" href="#数据卷容器" aria-hidden="true">#</a> 数据卷容器</h3><p>容器和容器之间同步</p><p>利用父容器给其他容器共享数据</p><p>启动，继承</p><p>在docker1中建立的文件都可以在docker2容器中同步</p><p>--volumes-from可以实现容器间的数据共享</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -it --name docker1 chen/centos :父容器docker run -it --name docker2    --volumes-from docker1  chen/centos
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>是一种拷贝的概念</p><p>多个数据库实现数据共享</p><p>结论：容器之间配置信息的传递，数据卷容器的生命周期一直持续到没有人使用为止</p><h3 id="dockerfile构建" tabindex="-1"><a class="header-anchor" href="#dockerfile构建" aria-hidden="true">#</a> DockerFile构建</h3><p>是用来构建docker镜像的文件，命令参数脚本</p><p>构建步骤</p><ol><li><p>编写一个dockerfile文件</p></li><li><p>docker build构建成为一个镜像</p></li><li><p>docker run运行镜像</p></li><li><p>docker push 发布镜像</p></li><li><p>每个保留关键字(指令)都是必须要大写</p></li><li><p>执行从上到下顺序执行</p></li><li><p>‘#’ 表示注释</p></li><li><p>每一个指令都会创建提交一个新的镜像层,并提交 !</p></li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>FROM 	基础镜像, 一切从这里开始构建MAINTAINER  镜像是谁写的, 姓名+邮箱RUN #镜像构建的时候需要运行的命令ADD  步骤, tomcat镜像,压缩包! 添加内容WORKDIR  镜像的工作目录VOLUME  挂载的目录EXPOSE  暴露端口配置RUN 运行CMD  指定这个容器启动的时候要运行的命令,只有最后一个会生效,可被替代ENTRYPOINT # 指定这个容器启动的时候要运行的命令,可以追加命令ONBUILD  当构建一个被继承 DockerFile 这个时候就会运行ONBUILD的指令,触发指令COPY		类似ADD,将我们文件拷贝到镜像中ENV 	 构建的时候设置环境变量! 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>dockerfile是面向开发的,我们以后要发布项目,做镜像就需要编写dockerfile文件,这个文件十分简单</p><p>Docker镜像 逐渐成为了一个企业交付的标准,必须要掌握 !</p><p>步骤: 开发,部署,上线,运维…缺一不可</p><p>DockerFIle: 构建文件,定义了一切的步骤 ,源代码</p><p>DockerImages: 通过DockerFile构建生成的镜像,最终发布运行的产品,原来是一个jar,war</p><p>Docker容器: 容器就是镜像运行起来提供服务的</p><p>步骤：</p><p>1.创建自己的centos</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>FROM centosMAINTAINER  chen&lt;2776895893@qq.com&gt;ENV MYPATH  /usr/localWORKDIR  $MYPATHRUN yum  -y  install vimRUN yum -y install net-toolsEXPOSE  80CMD echo  $MYPATHCMD echo &quot;----end----&quot;CMD /bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>2.通过文件构造自己的镜像</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker build -f mycentos  -t  mycentos7 .
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker history   镜像id:查看镜像的构造过程
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="tomcat镜像实战" tabindex="-1"><a class="header-anchor" href="#tomcat镜像实战" aria-hidden="true">#</a> Tomcat镜像实战</h3><p>1.准备Tomcat压缩包，jdk</p><p>2.编写dockerfile文件</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>FROM centosMAINTAINER   chen&lt;2776895893@qq.com&gt;COPY readme.txt /usr/local/readme.txtADD jdk-8u301-linux-x64.tar.gz  /usr/local/ADD apache-tomcat-9.0.53.tar.gz  /usr/local/RUN yum -y install vim ENV  MYPATH /usr/localWORKDIR   $MYPATHENV JAVA_HOME /usr/local/jdk1.8.0_301ENV CLASSPATH  $JAVA_HOME/lib/dt.jar:$JAVA_HOME/tools.jarENV  CATALINA_HOME /usr/local/apache-tomcat-9.0.53ENV CATALINA_BASH /usr/local/apache-tomcat-9.0.53ENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib:$CATALINA_HOME/binEXPOSE 8080CMD /usr/local/apache-tomcat-9.0.53/bin/startup.sh &amp;&amp; tail -F /usr/local/apache-tomcat-9.0.53/bin/logs/catalina.out
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>2.构建镜像</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> docker build -t mytomcat .
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>3.启动镜像</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d -p 9090:8080 --name chentomcat  -v /home/chenstudy/chen/build/tomcat/test:/usr/local/apache-tomcat-9.0.53/webapps/test  -v /home/chenstudy/chen/build/tomcat/tomcatlogs/:/usr/local/apache-tomcat-9.0.53/logs  mytomcat
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>4.测试访问</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>localhost:9090
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>5.发布项目</p><p>在test目录下建WEBINF文件</p><p>web.xml页面</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee                      http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;         version=&quot;4.0&quot;         metadata-complete=&quot;true&quot;&gt;&lt;/web-app&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>jsp页面</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;    pageEncoding=&quot;UTF-8&quot;%&gt;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;title&gt;hello chen&lt;/title&gt;&lt;/head&gt;&lt;body&gt;Hello World!&lt;br/&gt;&lt;%System.out.println(&quot;----my test log----&quot;);%&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>访问</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>192.168.108.129:9090/test
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>发布自己的镜像</p><p>登录</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker login -u kyriechenseven
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>提交镜像</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker push chen/mytomcat:1.0
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>提交不上解决方法</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker tag 镜像id  kuangshen/tomcat : 1.0
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="docker网络" tabindex="-1"><a class="header-anchor" href="#docker网络" aria-hidden="true">#</a> Docker网络</h2><p>容器编排，集群部署，流水线</p><p>ip addr包含以下地址</p><ul><li>本地回环地址</li><li>服务器地址</li><li>docker0地址</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker exec -it 容器id ip addr：查看容器的网卡
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>linux可以ping通容器内部</p><blockquote><p>原理</p></blockquote><p>我们每启动一个docker容器,docker就会给docker容器分配一个ip,我们只要安装了docker,就会有一个网卡docker0,桥接模式,使用的技术是evth-pair技术</p><p>Docker中所有的网络接口都是虚拟的,虚拟的转发效率高</p><h3 id="link" tabindex="-1"><a class="header-anchor" href="#link" aria-hidden="true">#</a> link</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> docker exec -it tomcat02 ping tomcat01 docker exec -it tomcat02 ping tomcat03 docker run -d --name tomcat03 --link tomcat02 tomcat:正向可以ping通，反向不能 docker exec -it tomcat03 ping tomcat02
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="自定义网络" tabindex="-1"><a class="header-anchor" href="#自定义网络" aria-hidden="true">#</a> 自定义网络</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>dockernetwork ls:显示网卡
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>网络模式</strong></p><ul><li>bridge : 桥接 docker 大桥</li><li>none: 不配置网络</li><li>host: 和宿主机共享网络</li><li>container: 容器内网络联通</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>直接启动的命令 --net brodge,默认docker0docker run -d -P --name tomcat01 --net bridge tomcatdocker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet：自定义网络docker network ls：网络列表docker inspect mynet:查看网络
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="网络连通" tabindex="-1"><a class="header-anchor" href="#网络连通" aria-hidden="true">#</a> 网络连通</h3><p>部署redis集群</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker network create --subnet 172.38.0.0/16 redis:创建网卡docker network ls:查看服务docker inspect redis
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>通过脚本创建六个redis配置</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>for port in $(seq 1 6);\do \mkdir -p /mydata/redis/node-${port}/conftouch /mydata/redis/node-${port}/conf/redis.confcat &lt;&lt; EOF &gt;&gt; /mydata/redis/node-${port}/conf/redis.confport 6379bind 0.0.0.0cluster-enabled yescluster-config-file nodes.confcluster-node-timeout 5000cluster-announce-ip 172.38.0.1${port}cluster-announce-port 6379cluster-announce-bus-port 16379appendonly yesEOFdone
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>通过脚本运行六个redisfor port in $(seq 1 6);\do \docker run -p 637${port}:6379 -p 1637${port}:16379 --name redis-${port} \-v /mydata/redis/node-${port}/data:/data \-v /mydata/redis/node-${port}/conf/redis.conf:/etc/redis/redis.conf \-d --net redis --ip 172.38.0.1${port} redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf done#停止redis并删除容器for port in $(seq 1 6);\do \docker stop redis-${port}; \docker rm redis-${port};done
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在cmd中运行jar包</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>java -jar dockerfile-0.0.1-SNAPSHOT.jar
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>springboot生成镜像</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d -P --name chen-springboot-web helloidea：启动curl localhost:49155/hello：运行
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run  -it  -d -p 9099:80  --name mynginx01 -v /usr/local/nginx/conf/nginx.conf:/etc/nginx/nginx.conf  -v /usr/local/nginx/logs:/var/log/nginx -v /usr/local/nginx/conf.d/default.conf:/etc/nginx/conf.d/default.conf nginx9099 root   /usr/share/nginx/html;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/demo/src/zh/posts/article/article1.md" rel="noopener noreferrer" target="_blank" arialabel="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><!----><!----></footer><nav class="page-nav"><!----><a href="/zh/posts/article/article2.html" class="nav-link next" arialabel="ElacticSearch"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">ElacticSearch<i class="icon iconfont icon-edit"></i></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><!----></div><!----></main><!--]--><footer class="footer-wrapper"><div class="footer">联系我们</div><div class="copyright">Copyright © 2022 小陈博客</div></footer></div><!--]--><!----><!--[--><!-- Root element of PhotoSwipe. Must have class pswp. --><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><!-- Background of PhotoSwipe. 
    It’s a separate element, as animating opacity is faster than rgba().--><div class="pswp__bg"></div><!-- Slides wrapper with overflow:hidden. --><div class="pswp__scroll-wrap"><!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. --><div class="pswp__container"><!-- don’t modify these 3 pswp__item elements, data is added later on --><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><!--  Controls are self-explanatory. Order can be changed. --><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="关闭"></button><button class="pswp__button pswp__button--share" title="分享"></button><button class="pswp__button pswp__button--fs" title="切换全屏"></button><button class="pswp__button pswp__button--zoom" title="缩放"></button><!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR --><!-- element will get class pswp__preloader--active when preloader is running --><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="上一个 (左箭头)"></button><button class="pswp__button pswp__button--arrow--right" title="下一个 (右箭头)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><!--]--><!--]--></div>
    <script type="module" src="/assets/app.276e6fe4.js" defer></script>
  </body>
</html>
